!function(e,n,f,i){"use strict";function c(e){return"string"===f.type(e)}function g(e){return c(e)&&0<e.indexOf("%")}function m(e,t){return t&&g(e)&&(e=y.getViewport()[t]/100*parseInt(e,10)),Math.round(e)+"px"}var o=f(e),l=f(n),y=f.fancybox=function(){y.open.apply(this,arguments)},a=!1,p=n.createTouch!==i;f.extend(y,{version:"2.0.5",defaults:{padding:15,margin:20,width:1e3,height:700,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!p,autoCenter:!p,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(f.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){y.close(!0),e&&!f.isArray(e)&&(e=e instanceof f?f(e).get():[e]),y.isActive=!0,y.opts=f.extend(!0,{},y.defaults,t),f.isPlainObject(t)&&t.keys!==i&&(y.opts.keys=!!t.keys&&f.extend({},y.defaults.keys,t.keys)),y.group=e,y._start(y.opts.index||0)},cancel:function(){y.coming&&!1===y.trigger("onCancel")||(y.coming=null,y.hideLoading(),y.ajaxLoad&&y.ajaxLoad.abort(),y.ajaxLoad=null,y.imgPreload&&(y.imgPreload.onload=y.imgPreload.onabort=y.imgPreload.onerror=null))},close:function(e){y.cancel(),y.current&&!1!==y.trigger("beforeClose")&&(y.unbindEvents(),!y.isOpen||e&&!0===e[0]?(f(".fancybox-wrap").stop().trigger("onReset").remove(),y._afterZoomOut()):(y.isOpen=y.isOpened=!1,f(".fancybox-item, .fancybox-nav").remove(),y.wrap.stop(!0).removeClass("fancybox-opened"),y.inner.css("overflow","hidden"),y.transitions[y.current.closeMethod]()))},play:function(e){function t(){clearTimeout(y.player.timer)}function n(){t(),y.current&&y.player.isActive&&(y.player.timer=setTimeout(y.next,y.current.playSpeed))}function i(){t(),f("body").unbind(".player"),y.player.isActive=!1,y.trigger("onPlayEnd")}y.player.isActive||e&&!1===e[0]?i():y.current&&(y.current.loop||y.current.index<y.group.length-1)&&(y.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":i,"beforeLoad.player":t}),n(),y.trigger("onPlayStart"))},next:function(){y.current&&y.jumpto(y.current.index+1)},prev:function(){y.current&&y.jumpto(y.current.index-1)},jumpto:function(e){y.current&&(e=parseInt(e,10),1<y.group.length&&y.current.loop&&(e>=y.group.length?e=0:e<0&&(e=y.group.length-1)),y.group[e]!==i&&(y.cancel(),y._start(e)))},reposition:function(e,t){var n;y.isOpen&&(n=y._getPosition(t),e&&"scroll"===e.type?(delete n.position,y.wrap.stop(!0,!0).animate(n,200)):y.wrap.css(n))},update:function(n){y.isOpen&&(a||setTimeout(function(){var e=y.current,t=!n||n&&"orientationchange"===n.type;if(a){if(a=!1,!e)return;n&&"scroll"===n.type&&!t||(e.autoSize&&"iframe"!==e.type&&(y.inner.height("auto"),e.height=y.inner.height()),(e.autoResize||t)&&y._setDimension(),e.canGrow&&"iframe"!==e.type&&y.inner.height("auto")),(e.autoCenter||t)&&y.reposition(n),y.trigger("onUpdate")}},200),a=!0)},toggle:function(){y.isOpen&&(y.current.fitToView=!y.current.fitToView,y.update())},hideLoading:function(){l.unbind("keypress.fb"),f("#fancybox-loading").remove()},showLoading:function(){y.hideLoading(),l.bind("keypress.fb",function(e){27===e.keyCode&&(e.preventDefault(),y.cancel())}),f('<div id="fancybox-loading"><div></div></div>').click(y.cancel).appendTo("body")},getViewport:function(){return{x:o.scrollLeft(),y:o.scrollTop(),w:p&&e.innerWidth?e.innerWidth:o.width(),h:p&&e.innerHeight?e.innerHeight:o.height()}},unbindEvents:function(){y.wrap&&y.wrap.unbind(".fb"),l.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var e=y.current,i=e.keys;e&&(o.bind("resize.fb orientationchange.fb"+(e.autoCenter&&!e.fixed?" scroll.fb":""),y.update),i&&l.bind("keydown.fb",function(e){var t,n=e.target||e.srcElement;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||n&&(n.type||f(n).is("[contenteditable]"))||(t=e.keyCode,-1<f.inArray(t,i.close)?(y.close(),e.preventDefault()):-1<f.inArray(t,i.next)?(y.next(),e.preventDefault()):-1<f.inArray(t,i.prev)&&(y.prev(),e.preventDefault()))}),f.fn.mousewheel&&e.mouseWheel&&1<y.group.length&&y.wrap.bind("mousewheel.fb",function(e,t){var n=e.target||null;0===t||n&&0!==n.clientHeight&&(n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth)||(e.preventDefault(),y[0<t?"prev":"next"]())}))},trigger:function(n,e){var t,i=e||y[-1<f.inArray(n,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(i){if(f.isFunction(i[n])&&(t=i[n].apply(i,Array.prototype.slice.call(arguments,1))),!1===t)return!1;i.helpers&&f.each(i.helpers,function(e,t){t&&f.isPlainObject(y.helpers[e])&&f.isFunction(y.helpers[e][n])&&y.helpers[e][n](t,i)}),f.event.trigger(n+".fb")}},isImage:function(e){return c(e)&&e.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(e){return c(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var n,t,i,o,a,r={},s=y.group[e]||null;if(s&&(s.nodeType||s instanceof f)&&(n=!0,f.metadata&&(r=f(s).metadata())),r=f.extend(!0,{},y.opts,{index:e,element:s},f.isPlainObject(s)?s:r),f.each(["href","title","content","type"],function(e,t){r[t]=y.opts[t]||n&&f(s).attr(t)||r[t]||null}),"number"==typeof r.margin&&(r.margin=[r.margin,r.margin,r.margin,r.margin]),r.modal&&f.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),y.coming=r,!1!==y.trigger("beforeLoad"))switch(i=r.type,t=r.href||s,i||(n&&(i=(i=f(s).data("fancybox-type"))||((o=s.className.match(/fancybox\.(\w+)/))?o[1]:null)),!i&&c(t)&&(y.isImage(t)?i="image":y.isSWF(t)?i="swf":t.match(/^#/)&&(i="inline")),i=i||(n?"inline":"html"),r.type=i),"inline"===i||"html"===i?(r.content||(r.content="inline"===i?f(c(t)?t.replace(/.*(?=#[^\s]+$)/,""):t):s),r.content&&r.content.length||(i=null)):t||(i=null),"ajax"===i&&c(t)&&(t=(a=t.split(/\s+/,2)).shift(),r.selector=a.shift()),r.href=t,r.group=y.group,r.isDom=n,i){case"image":y._loadImage();break;case"ajax":y._loadAjax();break;case"inline":case"iframe":case"swf":case"html":y._afterLoad();break;default:y._error("type")}else y.coming=null},_error:function(e){y.hideLoading(),f.extend(y.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:e,content:y.coming.tpl.error}),y._afterLoad()},_loadImage:function(){var e=y.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,y.coming.width=this.width,y.coming.height=this.height,y._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,y._error("image")},e.src=y.coming.href,e.complete!==i&&e.complete||y.showLoading()},_loadAjax:function(){y.showLoading(),y.ajaxLoad=f.ajax(f.extend({},y.coming.ajax,{url:y.coming.href,error:function(e,t){y.coming&&"abort"!==t?y._error("ajax",e):y.hideLoading()},success:function(e,t){"success"===t&&(y.coming.content=e,y._afterLoad())}}))},_preloadImages:function(){var e,t,n,i=y.group,o=y.current,a=i.length,r=Math.min(o.preload,a-1);if(o.preload&&!(i.length<2))for(n=1;n<=r;n+=1)t=(e=i[(o.index+n)%a]).href||f(e).attr("href")||e,"image"!==e.type&&!y.isImage(t)||((new Image).src=t)},_afterLoad:function(){y.hideLoading(),y.coming&&!1!==y.trigger("afterLoad",y.current)?(y.isOpened?(f(".fancybox-item, .fancybox-nav").remove(),y.wrap.stop(!0).removeClass("fancybox-opened"),y.inner.css("overflow","hidden"),y.transitions[y.current.prevMethod]()):(f(".fancybox-wrap").stop().trigger("onReset").remove(),y.trigger("afterClose")),y.unbindEvents(),y.isOpen=!1,y.current=y.coming,y.wrap=f(y.current.tpl.wrap).addClass("fancybox-"+(p?"mobile":"desktop")+" fancybox-type-"+y.current.type+" fancybox-tmp "+y.current.wrapCSS).appendTo("body"),y.skin=f(".fancybox-skin",y.wrap).css("padding",m(y.current.padding)),y.outer=f(".fancybox-outer",y.wrap),y.inner=f(".fancybox-inner",y.wrap),y._setContent()):y.coming=!1},_setContent:function(){var e,t=y.current,n=t.content,i=t.type,o=t.minWidth,a=t.minHeight,r=t.maxWidth,s=t.maxHeight;switch(i){case"inline":case"ajax":case"html":t.selector?n=f("<div>").html(n).find(t.selector):n instanceof f&&(n.parent().hasClass("fancybox-inner")&&n.parents(".fancybox-wrap").unbind("onReset"),n=n.show().detach(),f(y.wrap).bind("onReset",function(){n.appendTo("body").hide()})),t.autoSize&&(e=f('<div class="fancybox-wrap '+y.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:m(o,"w"),minHeight:m(a,"h"),maxWidth:m(r,"w"),maxHeight:m(s,"h")}).append(n),t.width=e.width(),t.height=e.height(),e.width(y.current.width),e.height()>t.height&&(e.width(t.width+1),t.width=e.width(),t.height=e.height()),n=e.contents().detach(),e.remove());break;case"image":n=t.tpl.image.replace("{href}",t.href),t.aspectRatio=!0;break;case"swf":n=t.tpl.swf.replace(/\{width\}/g,t.width).replace(/\{height\}/g,t.height).replace(/\{href\}/g,t.href);break;case"iframe":n=f(t.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",t.scrolling).attr("src",t.href),t.scrolling=p?"scroll":"auto"}"image"!==i&&"swf"!==i||(t.autoSize=!1,t.scrolling="visible"),"iframe"===i&&t.autoSize?(y.showLoading(),y._setDimension(),y.inner.css("overflow",t.scrolling),n.bind({onCancel:function(){f(this).unbind(),y._afterZoomOut()},load:function(){y.hideLoading();try{this.contentWindow.document.location&&(y.current.height=f(this).contents().find("body").height())}catch(e){y.current.autoSize=!1}y[y.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(y.inner)):(y.inner.append(n),y._beforeShow())},_beforeShow:function(){y.coming=null,y.trigger("beforeShow"),y._setDimension(),y.wrap.hide().removeClass("fancybox-tmp"),y.bindEvents(),y._preloadImages(),y.transitions[y.isOpened?y.current.nextMethod:y.current.openMethod]()},_setDimension:function(){var e,t,n=y.wrap,i=y.inner,o=y.current,a=y.getViewport(),r=o.margin,s=2*o.padding,c=o.width,l=o.height,p=o.maxWidth+s,d=o.maxHeight+s,h=o.minWidth+s,u=o.minHeight+s;if(a.w-=r[1]+r[3],a.h-=r[0]+r[2],g(c)&&(c=(a.w-s)*parseFloat(c)/100),g(l)&&(l=(a.h-s)*parseFloat(l)/100),e=c/l,c+=s,l+=s,o.fitToView&&(p=Math.min(a.w,p),d=Math.min(a.h,d)),o.aspectRatio?(p<c&&(l=((c=p)-s)/e+s),d<l&&(c=((l=d)-s)*e+s),c<h&&(l=((c=h)-s)/e+s),l<u&&(c=((l=u)-s)*e+s)):(c=Math.max(h,Math.min(c,p)),l=Math.max(u,Math.min(l,d))),c=Math.round(c),l=Math.round(l),f(n.add(i)).width("auto").height("auto"),i.width(c-s).height(l-s),n.width(c),t=n.height(),p<c||d<t)for(;(p<c||d<t)&&h<c&&u<t;)l-=10,o.aspectRatio?(c=Math.round((l-s)*e+s))<h&&(l=((c=h)-s)/e+s):c-=10,i.width(c-s).height(l-s),n.width(c),t=n.height();o.dim={width:m(c),height:m(t)},o.canGrow=o.autoSize&&u<l&&l<d,o.canShrink=!1,o.canExpand=!1,c-s<o.width||l-s<o.height?o.canExpand=!0:(c>a.w||t>a.h)&&h<c&&u<l&&(o.canShrink=!0),y.innerSpace=t-s-i.height()},_getPosition:function(e){var t=y.current,n=y.getViewport(),i=t.margin,o=y.wrap.width()+i[1]+i[3],a=y.wrap.height()+i[0]+i[2],r={position:"absolute",top:i[0]+n.y,left:i[3]+n.x};return t.autoCenter&&t.fixed&&!e&&a<=n.h&&o<=n.w&&(r={position:"fixed",top:i[0],left:i[3]}),r.top=m(Math.max(r.top,r.top+(n.h-a)*t.topRatio)),r.left=m(Math.max(r.left,r.left+.5*(n.w-o))),r},_afterZoomIn:function(){var t=y.current,e=t?t.scrolling:"no";t&&(y.isOpen=y.isOpened=!0,y.wrap.addClass("fancybox-opened"),y.inner.css("overflow","yes"===e?"scroll":"no"===e?"hidden":e),y.trigger("afterShow"),y.update(),(t.closeClick||t.nextClick)&&y.inner.css("cursor","pointer").bind("click.fb",function(e){f(e.target).is("a")||f(e.target).parent().is("a")||y[t.closeClick?"close":"next"]()}),t.closeBtn&&f(t.tpl.closeBtn).appendTo(y.skin).bind("click.fb",y.close),t.arrows&&1<y.group.length&&((t.loop||0<t.index)&&f(t.tpl.prev).appendTo(y.outer).bind("click.fb",y.prev),(t.loop||t.index<y.group.length-1)&&f(t.tpl.next).appendTo(y.outer).bind("click.fb",y.next)),y.opts.autoPlay&&!y.player.isActive&&(y.opts.autoPlay=!1,y.play()))},_afterZoomOut:function(){var e=y.current;y.wrap.trigger("onReset").remove(),f.extend(y,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),y.trigger("afterClose",e)}}),y.transitions={getOrigPosition:function(){var e,t=y.current,n=t.element,i=t.padding,o=f(t.orig),a={},r=50,s=50;return!o.length&&t.isDom&&f(n).is(":visible")&&((o=f(n).find("img:first")).length||(o=f(n))),o.length?(a=o.offset(),o.is("img")&&(r=o.outerWidth(),s=o.outerHeight())):(e=y.getViewport(),a.top=e.y+.5*(e.h-s),a.left=e.x+.5*(e.w-r)),a={top:m(a.top-i),left:m(a.left-i),width:m(r+2*i),height:m(s+2*i)}},step:function(e,t){var n,i,o=t.prop;"width"!==o&&"height"!==o||(n=Math.ceil(e-2*y.current.padding),"height"===o&&(i=(e-t.start)/(t.end-t.start),t.start>t.end&&(i=1-i),n-=y.innerSpace*i),y.inner[o](n))},zoomIn:function(){var e=y.wrap,t=y.current,n=t.openEffect,i="elastic"===n,o=t.dim,a=f.extend({},o,y._getPosition(i)),r=f.extend({opacity:1},a);delete r.position,i?(a=this.getOrigPosition(),t.openOpacity&&(a.opacity=0),y.outer.add(y.inner).width("auto").height("auto")):"fade"===n&&(a.opacity=0),e.css(a).show().animate(r,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:y._afterZoomIn})},zoomOut:function(){var e=y.wrap,t=y.current,n=t.openEffect,i="elastic"===n,o={opacity:0};i&&("fixed"===e.css("position")&&e.css(y._getPosition(!0)),o=this.getOrigPosition(),t.closeOpacity&&(o.opacity=0)),e.animate(o,{duration:"none"===n?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:y._afterZoomOut})},changeIn:function(){var e=y.wrap,t=y.current,n=t.nextEffect,i="elastic"===n,o=y._getPosition(i),a={opacity:1};o.opacity=0,i&&(o.top=m(parseInt(o.top,10)-200),a.top="+=200px"),e.css(o).show().animate(a,{duration:"none"===n?0:t.nextSpeed,easing:t.nextEasing,complete:y._afterZoomIn})},changeOut:function(){var e=y.wrap,t=y.current,n=t.prevEffect,i={opacity:0};e.removeClass("fancybox-opened"),"elastic"===n&&(i.top="+=200px"),e.animate(i,{duration:"none"===n?0:t.prevSpeed,easing:t.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}},y.helpers.overlay={overlay:null,update:function(){var e,t;this.overlay.width("100%").height("100%"),e=f.browser.msie||p?(t=Math.max(n.documentElement.scrollWidth,n.body.scrollWidth))<Math.max(n.documentElement.offsetWidth,n.body.offsetWidth)?o.width():t:l.width(),this.overlay.width(e).height(l.height())},beforeShow:function(e){this.overlay||(e=f.extend(!0,{},y.defaults.helpers.overlay,e),this.overlay=f('<div id="fancybox-overlay"></div>').css(e.css).appendTo("body"),e.closeClick&&this.overlay.bind("click.fb",y.close),y.current.fixed&&!p?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(e.speedIn,e.opacity))},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||0,function(){f(this).remove()}),this.overlay=null}},y.helpers.title={beforeShow:function(e){var t,n=y.current.title;n&&(t=f('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+n+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),y.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?y.inner:"outside"===e.type?y.wrap:y.skin))}},f.fn.fancybox=function(a){function e(e){var t,n,i=this,o=r;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||f(i).is(".fancybox-wrap")||(e.preventDefault(),t=a.groupAttr||"data-fancybox-group",(n=(n=f(i).attr(t))||i[t="rel"])&&""!==n&&"nofollow"!==n&&(o=(i=(i=c.length?f(c):s).filter("["+t+'="'+n+'"]')).index(this)),a.index=o,y.open(i,a))}var r,s=f(this),c=this.selector||"";return r=(a=a||{}).index||0,c?l.undelegate(c,"click.fb-start").delegate(c,"click.fb-start",e):s.unbind("click.fb-start").bind("click.fb-start",e),this},f(n).ready(function(){y.defaults.fixed=f.support.fixedPosition||!(f.browser.msie&&f.browser.version<=6)&&!p})}(window,document,jQuery);